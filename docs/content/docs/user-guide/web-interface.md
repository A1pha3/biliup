+++
title = "Web 界面使用"
description = "了解如何使用 biliup 的 Web 界面管理录播和上传任务"
date = 2025-01-10T00:00:00+00:00
updated = 2025-01-10T00:00:00+00:00
draft = false
weight = 10
sort_by = "weight"
template = "docs/page.html"

[extra]
lead = "biliup 提供了功能完善的 Web 界面，让你可以通过浏览器轻松管理所有录播和上传任务。"
toc = true
top = false
+++

## 访问 Web 界面

### 启动服务

使用以下命令启动 Web 服务：

```bash
biliup server
```

默认配置：
- **绑定地址**：`0.0.0.0`（允许外部访问）
- **端口**：`19159`
- **访问地址**：`http://your-ip:19159`

### 自定义配置

你可以通过参数自定义服务配置：

```bash
# 指定绑定地址和端口
biliup server --bind 127.0.0.1 --port 8080

# 启用用户认证
biliup server --auth
```

**参数说明**：
- `-b, --bind <BIND>`：指定绑定地址，默认 `0.0.0.0`
- `-p, --port <PORT>`：指定端口号，默认 `19159`
- `--auth`：开启登录密码认证，提高安全性

### 用户认证

启用 `--auth` 参数后，首次访问 Web 界面时需要设置管理员密码。这可以防止未授权访问，特别是在公网环境下运行时非常重要。

```bash
biliup server --auth
```

访问界面后，系统会提示你创建管理员账户和密码。

## 主界面概览

Web 界面采用侧边栏导航设计，主要包含以下功能模块：

### 导航菜单

- **主页**：显示更新日志和项目信息
- **录播管理**
  - **直播管理**：管理所有录播任务
  - **历史记录**：查看录播历史
- **投稿管理**：管理视频上传任务
- **空间配置**：配置 B 站账号和全局设置
- **直播历史**：查看直播记录
- **实时日志**：实时查看系统日志
- **任务平台**：查看任务执行状态

### 主题切换

界面支持亮色/暗色主题切换，点击侧边栏底部的主题按钮即可切换。系统会记住你的偏好设置。


## 录播管理

### 直播管理页面

直播管理是 biliup 的核心功能，用于管理所有录播任务。

#### 创建录播任务

1. 点击右上角的 **新建** 按钮
2. 填写录播配置：
   - **备注名称**：为任务设置一个易识别的名称
   - **直播地址**：输入直播间 URL（支持多个平台）
   - **录制格式**：选择 `flv`、`ts` 或 `mp4`
   - **分段设置**：配置文件分段大小或时长
   - **上传配置**：选择是否自动上传到 B 站
3. 点击 **确定** 创建任务

#### 任务状态

每个录播任务卡片会显示当前状态：

- **空闲**（绿色）：等待直播开始
- **直播中**（红色）：正在录制
- **等待下载**（灰色）：已检测到直播，准备开始录制
- **检测/上传中**（靛蓝色）：正在检测直播状态或上传视频
- **非录播时间**（绿色）：不在设定的录播时间范围内
- **暂停中**（粉色）：任务已暂停

#### 任务操作

每个任务卡片提供以下操作按钮：

- **编辑**：修改任务配置
- **暂停/恢复**：暂停或恢复录制任务
- **删除**：删除任务（不可恢复）
- **更多选项**：高级配置选项

### 历史记录

查看所有已完成的录播记录，包括：
- 录制时间
- 文件大小
- 上传状态
- 文件路径

## 投稿管理

投稿管理页面用于管理待上传和已上传的视频。

### 功能特性

- **批量上传**：同时上传多个视频
- **上传进度**：实时查看上传进度
- **稿件编辑**：修改视频标题、简介、标签等
- **多 P 视频**：支持分 P 上传
- **追加视频**：向已发布稿件追加新视频

### 上传状态

- **待上传**：视频已录制完成，等待上传
- **上传中**：正在上传到 B 站
- **已完成**：上传成功
- **失败**：上传失败，可重试

## 空间配置

空间配置页面用于配置 B 站账号信息和全局设置。

### 全局设置

配置适用于所有任务的全局参数：

- **下载目录**：录制文件的保存路径
- **临时目录**：临时文件存储位置
- **日志级别**：设置日志详细程度
- **并发数**：同时录制的最大任务数

### B 站账号配置

1. 点击 **登录 B 站** 按钮
2. 使用二维码或账号密码登录
3. 登录成功后会显示账号信息和头像
4. 可以添加多个 B 站账号用于不同的上传任务

### 各平台下载设置

为不同直播平台配置特定的下载参数：

- **Cookie 配置**：某些平台需要配置 Cookie 才能录制
- **画质选择**：选择录制的视频画质
- **代理设置**：为特定平台配置代理
- **自定义参数**：平台特定的高级配置

支持的平台包括：
- Twitch
- 斗鱼
- 虎牙
- B 站直播
- 抖音
- 快手
- YouTube
- 等 20+ 个平台


## 实时日志

实时日志页面显示系统运行日志，帮助你监控和调试问题。

### 日志功能

- **实时更新**：自动刷新显示最新日志
- **日志过滤**：按级别过滤（INFO、WARN、ERROR）
- **搜索功能**：搜索特定关键词
- **日志导出**：导出日志文件用于问题排查

### 日志级别

- **INFO**：常规信息，如任务启动、完成等
- **WARN**：警告信息，如网络波动、重试等
- **ERROR**：错误信息，如录制失败、上传失败等
- **DEBUG**：调试信息，用于开发和深度排查

## 任务平台

任务平台页面显示所有后台任务的执行状态。

### 任务类型

- **录制任务**：直播录制任务
- **上传任务**：视频上传任务
- **转码任务**：视频格式转换任务
- **定时任务**：定时执行的任务

### 任务管理

- **查看详情**：查看任务的详细信息和日志
- **手动重试**：对失败的任务进行重试
- **取消任务**：取消正在执行的任务
- **清理历史**：清理已完成的任务记录

## 移动端适配

Web 界面完全支持移动设备访问：

- **响应式设计**：自动适配不同屏幕尺寸
- **触摸优化**：针对触摸操作优化的交互
- **侧边栏折叠**：在小屏幕上自动折叠侧边栏
- **手势支持**：支持滑动等手势操作

在移动设备上访问 `http://your-ip:19159` 即可使用。

## 常见问题

### 无法访问 Web 界面

1. 检查服务是否正常运行
2. 确认防火墙是否开放了端口
3. 检查绑定地址是否正确（`0.0.0.0` 允许外部访问）
4. 尝试使用 `127.0.0.1:19159` 本地访问

### 忘记认证密码

如果启用了 `--auth` 但忘记密码：

1. 停止 biliup 服务
2. 删除配置文件中的认证信息
3. 重新启动服务并设置新密码

### 界面显示异常

1. 清除浏览器缓存
2. 尝试使用无痕模式访问
3. 更换浏览器（推荐使用 Chrome、Firefox、Edge）
4. 检查是否有浏览器插件干扰

## 安全建议

如果在公网环境下运行 biliup：

1. **启用认证**：务必使用 `--auth` 参数
2. **使用强密码**：设置复杂的管理员密码
3. **限制访问**：通过防火墙限制访问 IP
4. **使用反向代理**：通过 Nginx 等反向代理添加 HTTPS
5. **定期更新**：保持 biliup 版本最新

## 下一步

- [直播录制功能](./recording-streams.md) - 了解如何配置录制参数
- [视频上传功能](./uploading-videos.md) - 了解如何配置上传参数
- [任务管理](./managing-tasks.md) - 了解如何管理任务
